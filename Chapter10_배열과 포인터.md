## 10-1. 배열과 포인터의 관계
#### 배열명으로 배열 요소 사용하기
- 주소 + 정수 -> 주소 + (정수 * 주소를 구한 변수의 크기)
- ary[1] ⇔ *(ary+1)

````C
#include <stdio.h>

int main(void) {

	int ary[3];
	int i;

	*(ary + 0) = 10;                                  // ary[0]=10
	*(ary + 1) = *(ary + 0) + 10;               // ary[1]=ary[0]+10

	printf("세 번째 배열 요소에 키보드 입력 : ");
	scanf_s("%d", ary + 2);                      // &ary[2]

	for (i = 0; i < 3; i++) {                          // 모든 배열 요소 출력
		printf("%5d", *(ary + i));         // ary[i]
	}

	return 0;
}
````
````
세 번째 배열 요소에 키보드 입력 : 30
   10   20   30
````
#### 배열명 역할을 하는 포인터
- 배열명은 주소이므로 포인터에 저장 가능.
- 이 경우, 포인터로도 연산식이나 대괄호를 써서 배열 요소를 쉽게 사용할 수 있음

````C
#include <stdio.h>

int main(void) {

	int ary[3];                             // 배열 선언
	int *pa = ary;                       // 포인터에 배열명 저장
	int i;                                     // 반복 제어 변수

	*pa = 10;                             // 첫 번째 배열 요소에 10 대입
	*(pa + 1) = 20;                    // 두 번째 배열 요소에 20 대입
	pa[2] = pa[0] + pa[1];          // 대괄호를 써서 pa를 배열명처럼 사용

	for (i = 0; i < 3; i++) {
		printf("%5d", pa[i]);
	}

	return 0;
}
````
````
   10   20   30
````

#### 배열명과 포인터의 차이
- 차이점 1 : sizeof 연산의 결과가 다름
<br>배열명 - sizeof : 배열 전체의 크기 구함
<br>포인터 - sizeof : 포인터 하나의 크기 구함

- 차이점 2 : 변수와 상수의 차이가 있음

포인터는 그 값을 바꿀 수 있지만, 배열명은 상수이므로 값을 바꿀 수 없음.

````C

#include <stdio.h>

int main(void) {

	int ary[3] = { 10, 20, 30 };
	int *pa = ary;
	int i;

	printf("배열의 값 : ");
	for (i = 0; i < 3; i++) {
		printf("%5d", *pa);         // pa가 가리키는 배열 요소 출력
		pa++;                            // 다음 배열 요소를 가리키도록 pa값 증가
	}

	return 0;
}
````
````
배열의 값 :    10   20   30
````

- 포인터 pa로 첫 번째 배열 요소를 출력하는 방법
    - 방법 1) pa를 배열명처럼 사용하여 첫 번째 배열 요소를 출력하는 방법
<br>printf(“%d”, pa[0])

    - 방법 2) pa[0]를 그대로 포인터 연산식으로 바꾸는 방법
<br>printf(“%d”, *(pa+0))

    - 방법 3) *(pa+0)에서 의미 없는 0과 괄호를 제거한 표현 방법
<br>printf(“%d”, *pa)


- 포인터로 배열의 데이터를 처리할 때 주의할 점
    <br>1) 포인터의 값이 변할 수 있으므로 유효한 값인지 확인
        <br>처음에는 포인터의 값이 배열을 가리키고 있었으나, pa++을 사용하면 값이 변화함
    <br>2) 포인터에 증가 연산자와 간접 참조 연산자를 함께 사용할 때 전위 표현을 사용하면 안됨
        <br>두번째 배열 요소부터 출력되며, 마지막에는 배열의 값이 아닌 쓰레기 값이 출력됨
        
#### 포인터의 뺄셈과 관계 연산
<가리키는 자료형이 같을 때>
- 포인터 - 포인터 -> 값의 차/가리키는 자료형의 크기

````C
#include <stdio.h>

int main(void) {

	int ary[5] = { 10, 20, 30, 40, 50};
	int *pa = ary;                                                   // 첫 번째 배열 요소 주소
	int *pb = pa + 3;                                              // 네 번째 배열 요소 주소 

	printf("pa : %u\n", pa);
	printf("pb : %u\n", pb);
	pa++;                                                              // pa를 다음 배열 요소로 이동
	printf("pb - pa : %u\n", pb - pa);                      // 두 포인터의 뺄셈

	printf("앞에 있는 배열 요소의 값 출력 : ");
	if (pa < pb) {
		printf("%d\n", *pa);                              // pa가 배열의 앞에 있으면 *pa 출력
	}
	else {
		printf("%d\n", *pb);                              // pb가 배열의 앞에 있으면 *pb 출력
	}

	return 0;
}
````
````
pa : 17692772
pb : 17692784
pb - pa : 2
앞에 있는 배열 요소의 값 출력 : 20
````
